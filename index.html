<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tool Go88</title>
  <link rel="icon" href="icon-192.png" type="image/png">
  <link rel="apple-touch-icon" href="icon-512.png">
  <meta name="theme-color" content="#007bff">
  <link rel="manifest" href="manifest.json">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      height: 100%;
      background: black;
      color: #0ff;
      font-family: 'Press Start 2P', monospace;
      overflow: hidden;
    }
    canvas#background { position: fixed; top: 0; left: 0; z-index: 0; }
    .container {
      position: relative; z-index: 2;
      min-height: 100vh;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      padding: 2rem; text-align: center;
      opacity: 0; transform: scale(0.6);
      transition: transform 1s ease-out, opacity 1s ease-out;
    }
    .container.show { opacity:1; transform: scale(1); }
    h1 { font-size: 2.2rem; text-shadow: 0 0 10px #0ff; }
    h2.sub { font-size: 1rem; color: #77ffff; margin-top:10px; }
    input[type="text"] {
      margin-top:20px; padding:14px; font-size:1rem;
      border:none; border-radius:8px; background:#111; color:#0ff;
      font-family:'Press Start 2P',monospace;
      box-shadow:0 0 12px #00ffff88;
      width:100%; max-width:500px;
    }
    button {
      margin-top:15px; padding:12px 28px; font-size:1rem;
      border:none; border-radius:10px;
      background:linear-gradient(145deg,#00f0ff,#00aaff);
      color:#000; font-family:'Press Start 2P',monospace;
      cursor:pointer;
    }
    .thinking {
      margin-top:25px; font-size:1rem; color:#77ffff;
      animation: blink 1s infinite;
    }
    @keyframes blink {0%,100%{opacity:1;}50%{opacity:0.3;}}
    .result {
      margin-top:25px; font-size:1.2rem; color:#00ff88;
      font-weight:bold; text-shadow:0 0 10px #00ff88cc;
    }
    .chart {
      width:300px; height:20px; background:#111;
      border:2px solid #0ff; margin-top:10px;
      display:flex; overflow:hidden; border-radius:6px;
    }
    .bar-t { background:#00ff88; height:100%; }
    .bar-x { background:#ff0088; height:100%; }
    .intro {
      position:fixed; top:0; left:0;
      width:100vw; height:100vh;
      background:black; display:flex;
      justify-content:center; align-items:center;
      z-index:999;
      font-size:2rem; color:#0ff;
      font-family:'Press Start 2P',monospace;
    }
    .intro span {
      position:absolute; opacity:0;
      animation:showFadeWord 1.2s forwards;
    }
    .intro span:nth-child(1){animation-delay:0s;}
    .intro span:nth-child(2){animation-delay:1.3s;}
    .intro span:nth-child(3){animation-delay:2.6s;}
    .intro span:nth-child(4){animation-delay:3.9s;}
    @keyframes showFadeWord {
      0%{opacity:0;transform:scale(0.8);}
      20%{opacity:1;transform:scale(1);}
      80%{opacity:1;transform:scale(1);}
      100%{opacity:0;transform:scale(0.8);}
    }
  </style>
</head>
<body>
  <canvas id="background"></canvas>
  <div class="intro">
    <span>Tool</span><span>Phân</span><span>Tích</span><span>1 TỶ LẦN...</span>
  </div>
  <div class="container" id="app">
    <h1>Tool Go88</h1>
    <h2 class="sub">AI Robot phân tích 1 TỶ lần để dự đoán kết quả</h2>
    <input type="text" id="inputText" placeholder="Nhập chuỗi cầu: ví dụ TXTTXXTX..." />
    <button id="btnAnalyze">Phân Tích</button>
    <p id="status" class="thinking" style="display:none;">Đang phân tích 1.000.000.000 lần...</p>
    <div id="result" class="result"></div>
    <div id="chart" class="chart" style="display:none;">
      <div id="bar-t" class="bar-t"></div>
      <div id="bar-x" class="bar-x"></div>
    </div>
  </div>
  <script>
    // hiệu ứng bụi nền
    const canvas = document.getElementById('background');
    const ctx = canvas.getContext('2d');
    let w, h;
    let particles = [];
    function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight;}
    window.addEventListener('resize',resize);
    resize();
    for(let i=0;i<150;i++){
      particles.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2,dx:(Math.random()-0.5)*0.5,dy:(Math.random()-0.5)*0.5});
    }
    function draw(){ ctx.clearRect(0,0,w,h); ctx.fillStyle = '#00ffffaa';
      particles.forEach(p => {
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        p.x+=p.dx; p.y+=p.dy;
        if(p.x<0||p.x>w) p.dx*=-1;
        if(p.y<0||p.y>h) p.dy*=-1;
      });
      requestAnimationFrame(draw);
    }
    draw();
    // intro + scale hiển thị app
    setTimeout(()=>{ document.querySelector('.intro').style.display='none'; document.getElementById('app').classList.add('show'); },5200);
    // xử lý phân tích
    document.getElementById('btnAnalyze').onclick = ()=>{
      const inputEl = document.getElementById('inputText');
      const status = document.getElementById('status'), result = document.getElementById('result');
      const chart = document.getElementById('chart'), barT = document.getElementById('bar-t'), barX = document.getElementById('bar-x');
      const input = inputEl.value.trim().toUpperCase();
      if(!/^[TX]{10,}$/.test(input)){ alert("Vui lòng nhập chuỗi cầu hợp lệ, gồm ít nhất 10 ký tự T hoặc X!"); return; }
      inputEl.disabled=true; status.style.display='block'; result.innerHTML=''; chart.style.display='none';
      setTimeout(()=>{
        const lastTen = input.slice(-10);
        const weights = lastTen.split('').map(c=>c==='T'?1:0);
        let countT=0, iterations=0;
        const BATCH=1000000, TOTAL=1000000000;
        function runBatch(){
          for(let i=0;i<BATCH;i++){
            let sum=0;
            for(let j=0;j<10;j++) sum+=weights[Math.floor(Math.random()*10)];
            if(sum>5) countT++;
          }
          iterations+=BATCH;
          if(iterations<TOTAL) setTimeout(runBatch,0);
          else {
            const tPerc = (countT/TOTAL)*100, xPerc=100-tPerc;
            const pred = tPerc>50?'T (Tài)':'X (Xỉu)';
            result.innerHTML = `Kết quả dự đoán tiếp theo: <strong>${pred}</strong><br>Tài: ${tPerc.toFixed(4)}% | Xỉu: ${xPerc.toFixed(4)}%`;
            barT.style.width=`${tPerc}%`; barX.style.width=`${xPerc}%`;
            chart.style.display='flex';
            inputEl.disabled=false; inputEl.focus(); status.style.display='none';
          }
        }
        runBatch();
      },3000);
    };
  </script>
</body>
</html>